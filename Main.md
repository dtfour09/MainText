# MainText

## 叙述

其实一直不太喜欢写博客，因为文笔不好，我的第一篇博客就遭遇了滑铁卢。

[题解 | #不降数#_牛客网 (nowcoder.com)](https://www.nowcoder.com/discuss/353149335523237888?sourceSSR=users)

一道矩阵加速的算法题。emmp，后边在也没写过了。

当前文件将会作为总汇进行叙述后续添加的所有项目，以及自己干的糟心事，哈哈。

## 总纲

### 1，开发的第一个协议MQTT-SN协议

mqtt协议是由Tcp封装的，而mqtt-sn协议是后续提出使用udp封装的。

这俩协议在数据的封装，解包等差距不大。

mqtt协议的数据载荷量要比mqtt-sn协议大的多。

但是mqtt-sn协议的抗压能力比mqtt强不少。

在测试中，mqtt-sn 和 mqtt在相同的压力下，mqtt直接数据包都发不出了，而mqtt-sn偶尔还能成功发出去。

这个协议根据paho的规定，为了节省网络资源，由4部分组成。

分别为 客户端-客户端网关-服务端网关-服务端。

不在是典型的cs结构，这样节省了大量的网络资源。（要是 1对1还是没节省，中间还麻烦了点，嘎嘎。）

这个协议paho已经开发了一部分，但是其实没人商用。（典，虽然就写了俩月，一开始并不会这个）

这个协议在嵌入式设备上还是很好用的，但是时间太短了，我就写了发送，也就是客户端的，服务端paho写完了，但是客户端的接受没写。（当时家里有事跑路了，很无奈，后续辞职后良心过不去又补了，把协议进行简化后又给我的第一家公司了，吐槽，但是应该是没用这个协议，有空接着补吧）

（另外吐槽一下，这个协议当时不会cmake，全写一个文件里面了，因为是在linux上开发的，当时还是小笨比，数据结构和算法还好点  /dog）

（挖槽，想起来了，我第一个bug用了三个月解决了。！！一开始项目接手的时候我不太清楚，c的代码，ide也不太好使，而且是嵌入式设备，debug不准确，问题说的也不对，而且难复现，但是如果网络不好也不一定出来，拿了一个linux RTU当路由器用wireshare才找出来问题。问题一开始是 网络不好的情况下-接收或者发送线程出现问题，有网！重启下就好了，但是离谱的是从封包到发送都没问题{这里其实就是mqtt协议封包以及交换过程这里了}。又顺着找--------是不是设备的掩码，ip啥的不对？（其实当时存在很多问题），-------------然后学了好多协议知识-------再然后在ip续租签名的时候找到了。emmp 这里只改动的dhcp模块就ok了，吐槽结束）

我的第一家公司6个月干了啥，天天摸鱼（不是），被分到的任务都是出现几率小，任务不明确。git使用，搭了一个局域网git，研究了半个月，写了配套文本已经内容分配的各种问题。ros2研究，基本用了用。平台对接。协议开发学习，协议开发，嘎嘎半成品，哎，这个单人开发估计得1年多，设计还好paho给出了，主要是测试修正测试修正。

（这既是我干的第一家公司哎，每个人都相当于朋友，除了老板，但是我组长老师吐槽老板绝顶聪明，光头 /dog）

### 2，Qt 自定义UI窗口的想法

这个源码是不能够公布了。毕竟也不是开源代码，个人的辛苦成果，而且商用了，只能说些比较大众的思路了和吐槽了。

吐槽：

（这是我干的第二家公司，我来这边协议部门，听其他组的同事说我这边是核心部门，但是核心部门的事我是就干了一点，没活到那个时候ε=(´ο｀*)))唉。

​	我leader是很好的人，也是股东，也是我导师。在这段时间教我了不少有意思的东西，送我两本书，一本他年轻时候看的c++书，我大致看了下，里面有很多标注，我这段时间是没空看了，哎，另一本是c++ E开头那本书。哎，目前在这段找工作期间也指导了我不少。我来这边做了大概 快3个月的单机，一共是4个月。新的ui开发大概5月底就出来了，但是出来后会影响n个坐标问题，就迟迟没合并，就去改bug去了。我代码没少被叫过去更正，其实是面向对象的思想不行，因为前边干了7个月的c，不过后来不断教导我这些问题就没那多了，和c比较以前干的是网络通信传输层次的知识 ，这次是大概是应用层了。我寄掉这方面的工作又到我leader头上了。emmp）

正文：

​	其实自定义窗口就是无边框的窗口，想法很简单，如果使用qt自带的ui编程写一个demo很短的100来行，但是写一个以widget为基类的窗口，并且需要还原mainwindow原版基础的centralwidget，+其他空间大概得 翻40-50倍。架构优化了n遍到了 3000+。

​	很多人以为这不过是一个简单的窗口。确实我也是这么想的，折磨人的从来不是去除边框后的模拟系统窗口，这都是小意思，折磨的是各种小的问题，如dpi变化，不会以为只有主窗口变化吧，整个widget都要变化的，所以自己要写一个接口，实现一个自己的layout。优化问题，窗口随着不断的层叠，emmp，越来越卡了，这还是在x86的问题，很多软件只有x86的，但是我这个要是适配mac，Linux（麒麟，uos，乌班图），x86。Mac是令我最糟心的，开发着最难的，一个小bug卡了一个月，真的目前能解决那个方案条例很少，emmp。尝试了n中方法后找到了。

​	说主要的了。其实就是    框架  + 细节 + 组件。 这个框架改了n边，后期1-2天能改变一次新的框架了。参考很多公司的跨平台软件架构 和 自己设计的n个，才抉择出来。框架框架 哎。

中间遇见很多糟心事， 窗口不同步，窗口被穿透了，信号量不正确，内存泄漏（我干的！！），坐标问题，结构划分，区域划分，以及功能划分，适配问题，很多吐槽点，说真的看似很简单的东西，一旦需要商用后，细节拉满啊。

再往下就是我学过的一些东西了。

### 3，关于一些学习的纪录，放到杂项里面了

这个模块纪录我上大学的前三年所学的一些东西。

计算机网络，计算机操作系统和c++方面的东西。

emm 还有我所学算法的模板加其他乱七八糟的。

有些东西丢了，上个月买了一个氦气盘插到nas里面使用，结果炸了，有些东西丢了，emmp。气死了。